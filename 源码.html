<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æš–å¿ƒç¤¼ç‰©â¤ï¸</title>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="75d9443c-d127-474a-8083-a5f07aca5b8c"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #ffafbd, #ffc3a0); min-height: 100vh; overflow: hidden; color: #5a3e36; }
        
        /* æ˜Ÿå…‰èƒŒæ™¯ */
        .star { position: absolute; background: rgba(255, 255, 255, 0.8); border-radius: 50%; pointer-events: none; animation: twinkle infinite alternate; z-index: 0; }
        @keyframes twinkle { 0% { opacity: 0.2; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1.2); } }
        
        /* å…¬å‘Šé¡µï¼ˆé»˜è®¤æ˜¾ç¤ºï¼‰ */
        .notice-page { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 30px; text-align: center; background: rgba(255, 255, 255, 0.9); z-index: 100; position: relative; }
        .notice-content { max-width: 600px; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); }
        .notice-title { font-size: 2.2rem; margin-bottom: 20px; color: #e74c3c; }
        .notice-text { font-size: 1.2rem; line-height: 1.6; margin-bottom: 30px; color: #5a3e36; }
        .notice-text strong { color: #e74c3c; font-weight: 600; }
        .countdown { font-size: 1.5rem; margin-bottom: 30px; color: #e74c3c; font-weight: bold; }
        .enter-btn { background: #e74c3c; color: white; border: none; padding: 12px 30px; border-radius: 30px; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; opacity: 0.5; pointer-events: none; }
        .enter-btn.active { opacity: 1; pointer-events: auto; }
        .enter-btn:hover { background: #c0392b; transform: translateY(-2px); box-shadow: 0 8px 15px rgba(231, 76, 60, 0.3); }
        
        /* ç¤¼ç‰©é¡µï¼ˆé»˜è®¤éšè—ï¼‰ */
        .gift-page { display: none; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; position: relative; }
        .container { text-align: center; max-width: 800px; width: 100%; position: relative; z-index: 1; }
        h1 { font-size: 2.8rem; margin-bottom: 10px; color: #8b4513; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); }
        .subtitle { font-size: 1.2rem; margin-bottom: 40px; color: #7a5c4d; }
        
        /* ç¤¼ç‰©ç›’æ ·å¼ */
        .gift-container { position: relative; width: 200px; height: 200px; margin: 0 auto 50px; cursor: pointer; animation: floatSoft 4s ease-in-out infinite, glow 3s ease-in-out infinite alternate; }
        .gift-container:hover { transform: scale(1.08); animation-play-state: paused; }
        .gift-lid { position: absolute; top: 0; left: 0; width: 100%; height: 45%; background: linear-gradient(135deg, #c0392b, #e74c3c); border-radius: 10px 10px 0 0; transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1); z-index: 3; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15); }
        .gift-lid::before { content: ''; position: absolute; width: 100%; height: 20px; background: rgba(255, 255, 255, 0.3); top: 50%; left: 0; transform: translateY(-50%); }
        .gift-body { position: absolute; bottom: 0; left: 0; width: 100%; height: 55%; background: linear-gradient(135deg, #e74c3c, #c0392b); border-radius: 0 0 10px 10px; transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1) 0.1s; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); }
        .gift-body::after { content: ''; position: absolute; width: 20px; height: 100%; background: rgba(255, 255, 255, 0.3); left: 50%; top: 0; transform: translateX(-50%); }
        .gift-bow { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 40px; height: 40px; background: linear-gradient(135deg, #ff6b6b, #ff8fa3); border-radius: 50%; z-index: 4; transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1) 0.2s; box-shadow: 0 0 20px rgba(255, 107, 107, 0.5); }
        .gift-bow::before, .gift-bow::after { content: ''; position: absolute; width: 60px; height: 20px; background: linear-gradient(135deg, #ff6b6b, #ff8fa3); border-radius: 10px; top: 10px; transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1) 0.2s; box-shadow: 0 0 15px rgba(255, 107, 107, 0.4); }
        .gift-bow::before { left: -70px; transform: rotate(-45deg); }
        .gift-bow::after { right: -70px; transform: rotate(45deg); }
        
        /* ç¤¼ç›’ç‚¸å¼€åŠ¨ç”» */
        .gift-container.open .gift-lid { transform: translateY(-120px) rotate(15deg) scale(0.95); opacity: 0.85; box-shadow: 0 10px 30px rgba(231, 76, 60, 0.2); }
        .gift-container.open .gift-body { transform: translateY(60px) rotate(-8deg) scale(0.95); opacity: 0.85; box-shadow: 0 20px 40px rgba(231, 76, 60, 0.2); }
        .gift-container.open .gift-bow { transform: translateX(-50%) scale(1.6) translateY(-60px); box-shadow: 0 0 30px rgba(255, 107, 107, 0.7); }
        .gift-container.open .gift-bow::before { transform: rotate(-35deg) translateX(-25px) translateY(-25px); width: 75px; box-shadow: 0 0 20px rgba(255, 107, 107, 0.6); }
        .gift-container.open .gift-bow::after { transform: rotate(35deg) translateX(25px) translateY(-25px); width: 75px; box-shadow: 0 0 20px rgba(255, 107, 107, 0.6); }
        
        .instructions { margin-top: 30px; font-style: italic; color: #7a5c4d; }
        .footer { margin-top: 50px; color: #7a5c4d; font-size: 0.9rem; }
        
        /* æ¶ˆæ¯é¡µï¼ˆé»˜è®¤éšè—ï¼‰ */
        .messages-page { display: none; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; position: relative; overflow: hidden; }
        .messages-container { position: relative; width: 100%; height: 100vh; display: flex; align-items: center; justify-content: center; z-index: 1; }
        .message { position: absolute; background: rgba(255, 255, 255, 0.95); padding: 25px 40px; border-radius: 30px; font-size: 1.5rem; box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1); opacity: 0; transition: opacity 0.8s ease, transform 0.8s ease; line-height: 1.6; max-width: 600px; text-align: center; z-index: 1; transform: translateY(30px) scale(0.95); }
        .message.active { opacity: 1; transform: translateY(0) scale(1); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12); }
        .message i { color: #e74c3c; margin-right: 10px; font-size: 1.8rem; animation: pulseSoft 2s ease infinite alternate; }
        .message-counter { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); background: rgba(255, 255, 255, 0.85); padding: 8px 20px; border-radius: 20px; font-size: 1rem; color: #7a5c4d; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); z-index: 2; }
        .back-btn { position: absolute; top: 30px; right: 30px; background: rgba(255, 255, 255, 0.9); border: none; padding: 12px 25px; border-radius: 30px; font-size: 1rem; color: #8b4513; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); z-index: 10; }
        .back-btn:hover { background: white; transform: translateY(-3px) scale(1.05); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); }
        
        /* åŠ¨ç”»åˆé›† */
        @keyframes floatSoft { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        @keyframes glow { 0% { box-shadow: 0 0 20px rgba(255, 107, 107, 0.2); } 100% { box-shadow: 0 0 40px rgba(255, 107, 107, 0.4); } }
        @keyframes pulseSoft { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
        @keyframes fall { 0% { transform: translateY(-50px) rotate(var(--rotate, 0deg)) scale(1); opacity: 0.9; } 100% { transform: translateY(calc(100vh + 50px)) rotate(var(--rotate, 0deg)) scale(0.8); opacity: 0; } }
        @keyframes sway { 0% { transform: translateX(0) rotate(var(--rotate, 0deg)); } 100% { transform: translateX(var(--sway, 0px)) rotate(var(--rotate, 0deg)); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        .pulse { animation: pulse 0.6s ease-in-out; }
        
        /* èŠ±ç“£ç‰¹æ•ˆ */
        .petal { position: absolute; background: linear-gradient(45deg, #ff6b6b, #ffd1dc); border-radius: 50% 0 50% 0; opacity: 0.85; pointer-events: none; z-index: 5; animation: fall linear infinite, sway ease-in-out infinite alternate; transform-origin: center; }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .notice-title { font-size: 1.8rem; }
            .notice-text { font-size: 1rem; }
            h1 { font-size: 2.2rem; }
            .gift-container { width: 150px; height: 150px; }
            .message { font-size: 1.3rem; max-width: 500px; padding: 20px 30px; }
            .message i { font-size: 1.5rem; }
            .back-btn { top: 20px; right: 20px; padding: 10px 20px; }
        }
        @media (max-width: 480px) {
            .notice-title { font-size: 1.5rem; }
            .notice-text { font-size: 0.9rem; }
            h1 { font-size: 1.8rem; }
            .subtitle { font-size: 1rem; }
            .gift-container { width: 120px; height: 120px; }
            .message { font-size: 1.1rem; max-width: 350px; padding: 15px 25px; margin: 0 15px; }
            .message i { font-size: 1.3rem; }
            .back-btn { top: 15px; right: 15px; padding: 8px 16px; font-size: 0.9rem; }
        }
        
        /* ç‰ˆæœ¬å·+ç‰ˆæƒä¿¡æ¯ */
        .version-info { position: fixed; bottom: 20px; right: 20px; text-align: right; color: #7a5c4d; z-index: 9; display: none; font-weight: 500; }
        .version { font-size: 0.95rem; margin-bottom: 2px; letter-spacing: 0.5px; }
        .author { font-size: 0.75rem; opacity: 0.9; letter-spacing: 0.3px; }
        .copyright { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); color: #7a5c4d; font-size: 0.8rem; opacity: 0.9; text-align: center; z-index: 8; pointer-events: none; }
        @media (max-width: 480px) {
            .version-info { bottom: 60px; right: 15px; }
            .version { font-size: 0.85rem; }
            .author { font-size: 0.65rem; }
        }
    </style>
</head>
<body>
    <!-- å…¬å‘Šé¡µ -->
    <div class="notice-page" id="noticePage">
        <div class="notice-content">
            <h2 class="notice-title">ä½¿ç”¨é¡»çŸ¥</h2>
            <div class="notice-text">
                <p>æ¬¢è¿ä½¿ç”¨æš–å¿ƒç¤¼ç‰©ç½‘ç«™ï¼åœ¨ä½¿ç”¨å‰è¯·é˜…è¯»ä»¥ä¸‹é‡è¦æç¤ºï¼š</p>
                <p><strong>1. è¯·å‹¿å°†æ­¤ç½‘ç«™ç”¨äºå•†ä¸šç”¨é€”æˆ–åœˆé’±è¡Œä¸º</strong></p>
                <p><strong>2. è¯·å‹¿å¯¹ç½‘ç«™è¿›è¡ŒäºŒæ¬¡ä¿®æ”¹å¹¶å£°ç§°æ˜¯åŸåˆ›ä½œå“</strong></p>
                <p><strong>3. bugåé¦ˆ/è¯­å½•æä¾›:15259955231@163.com   xiaojianxiang816@gmail.com</strong></p>
                <p>æœ¬ç½‘ç«™æ—¨åœ¨ä¼ æ’­æ¸©æš–ä¸æ­£èƒ½é‡ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤Ÿå°Šé‡åŸåˆ›ï¼Œå…±åŒç»´æŠ¤è‰¯å¥½çš„ç½‘ç»œç¯å¢ƒ</p>
            </div>
            <div class="countdown" id="countdown">5</div>
            <button class="enter-btn" id="enterBtn">é˜…è¯»5ç§’åè¿›å…¥</button>
        </div>
        <div class="copyright">Â© 2024 æš–å¿ƒç¤¼ç‰© | å¤§é­”ç‹.by ç‰ˆæƒæ‰€æœ‰</div>
    </div>
    
    <!-- ç¤¼ç‰©é¡µ -->
    <div class="gift-page" id="giftPage">
        <div class="container">
            <h1>æš–å¿ƒç¤¼ç‰©ç›’</h1>
            <p class="subtitle">ç‚¹å‡»ç¤¼ç‰©ç›’ï¼Œæ”¶è·æ¸©æš–çš„å®‰æ…°è¯è¯­</p>
            <div class="gift-container" id="giftBox">
                <div class="gift-lid"></div>
                <div class="gift-body"></div>
                <div class="gift-bow"></div>
            </div>
            <p class="instructions">æ¯ä¸€å¥æ¸©æš–çš„è¯è¯­éƒ½æ˜¯ç»™ä½ çš„å°å°å®‰æ…°</p>
            <div class="footer">
                <p>åˆ¶ä½œè€…å¤§é­”ç‹ å¸Œæœ›è¿™äº›è¯è¯­èƒ½ç»™ä½ å¸¦æ¥ä¸€ä¸æ¸©æš–</p>
            </div>
        </div>
        <div class="version-info" id="versionGift">
            <div class="version">å½“å‰ç‰ˆæœ¬å· V1.2.2</div>
            <div class="author">å¤§é­”ç‹.by</div>
        </div>
        <div class="copyright">Â© 2024 æš–å¿ƒç¤¼ç‰© | å¤§é­”ç‹.by ç‰ˆæƒæ‰€æœ‰</div>
    </div>
    
    <!-- æ¶ˆæ¯é¡µ -->
    <div class="messages-page" id="messagesPage">
        <div class="messages-container" id="messagesContainer"></div>
        <div class="message-counter" id="messageCounter">1 / 60</div>
        <button class="back-btn" id="backBtn">è¿”å›ç¤¼ç‰©ç›’</button>
        <div class="version-info" id="versionMsg">
            <div class="version">å½“å‰ç‰ˆæœ¬å· V1.2.2</div>
            <div class="author">å¤§é­”ç‹.by</div>
        </div>
        <div class="copyright">Â© 2024 æš–å¿ƒç¤¼ç‰© | å¤§é­”ç‹.by ç‰ˆæƒæ‰€æœ‰</div>
    </div>

    <script>
        // æ ¸å¿ƒå…ƒç´ è·å–
        const countdownEl = document.getElementById('countdown');
        const enterBtn = document.getElementById('enterBtn');
        const noticePage = document.getElementById('noticePage');
        const giftPage = document.getElementById('giftPage');
        const messagesPage = document.getElementById('messagesPage');
        const giftBox = document.getElementById('giftBox');
        const messagesContainer = document.getElementById('messagesContainer');
        const messageCounter = document.getElementById('messageCounter');
        const backBtn = document.getElementById('backBtn');
        const versionGift = document.getElementById('versionGift');
        const versionMsg = document.getElementById('versionMsg');
        
        // ğŸ”¥ ä¿®å¤1ï¼šç”¨let+åˆå§‹åŒ–é”ï¼Œé˜²æ­¢é‡å¤èµ‹å€¼
        let countdown = 5;
        let countdownStarted = false; // æ–°å¢ï¼šå€’è®¡æ—¶å¯åŠ¨é”
        let isOpened = false;
        let currentMsgIndex = 0;
        
        // å®‰æ…°è¯è¯­ï¼ˆ60æ¡å®Œæ•´ï¼‰
        const comfortingMessages = [
            "ä½ å¹¶ä¸å­¤å•ï¼Œæˆ‘åœ¨è¿™é‡Œé™ªç€ä½ ",
            "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼Œæ˜å¤©ä¼šæ›´å¥½",
            "ä½ çš„æ„Ÿå—å¾ˆé‡è¦ï¼Œæˆ‘å®Œå…¨ç†è§£",
            "é£é›¨è¿‡åï¼Œæ€»ä¼šæœ‰ç¾ä¸½çš„å½©è™¹",
            "ä½ æ¯”æƒ³è±¡ä¸­è¦åšå¼ºå¾—å¤š",
            "æ…¢æ…¢æ¥ï¼Œç»™è‡ªå·±ä¸€äº›æ—¶é—´å’Œç©ºé—´",
            "ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ç§ç¾å¥½",
            "ä¸å¿…å®Œç¾ï¼ŒåšçœŸå®çš„è‡ªå·±å°±è¶³å¤Ÿ",
            "ä¸€åˆ‡éƒ½ä¼šæ…¢æ…¢å¥½èµ·æ¥çš„ï¼Œæˆ‘ç›¸ä¿¡",
            "ä½ æ˜¯è¢«çˆ±ç€çš„ï¼Œæ°¸è¿œéƒ½æ˜¯",
            "æ¯ä¸€ä¸ªè‰°éš¾æ—¶åˆ»éƒ½ä¼šè¿‡å»",
            "ä½ çš„ä»·å€¼ä¸å› ä»»ä½•äº‹è€Œæ”¹å˜",
            "å…è®¸è‡ªå·±æ„Ÿå—æ‰€æœ‰æƒ…ç»ªï¼Œè¿™å¾ˆæ­£å¸¸",
            "å°å°çš„è¿›æ­¥ä¹Ÿæ˜¯å€¼å¾—åº†ç¥çš„",
            "ä½ å·²ç»åœ¨åšå¾—å¾ˆå¥½äº†",
            "é»‘æš—è¿‡åï¼Œå…‰æ˜å¿…å°†åˆ°æ¥",
            "å¯¹è‡ªå·±æ¸©æŸ”ä¸€ç‚¹ï¼Œä½ å€¼å¾—è¢«å–„å¾…",
            "ä½ çš„åšå¼ºå’ŒéŸ§æ€§ä»¤äººæ•¬ä½©",
            "æ¯ä¸€å¤©éƒ½æ˜¯é‡æ–°å¼€å§‹çš„æœºä¼š",
            "ä½ æ‹¥æœ‰æ”¹å˜ä¸€åˆ‡çš„å†…åœ¨åŠ›é‡",
            "å›°éš¾åªæ˜¯æš‚æ—¶çš„ï¼Œä½ ä¼šå…‹æœçš„",
            "ç»™è‡ªå·±ä¸€ä¸ªæ‹¥æŠ±ï¼Œä½ å·²ç»å¾ˆåŠªåŠ›äº†",
            "ç›¸ä¿¡æ—¶é—´çš„åŠ›é‡ï¼Œä¸€åˆ‡éƒ½ä¼šè¿‡å»",
            "ä½ çš„ç‹¬ç‰¹ä¹‹å¤„æ­£æ˜¯ä½ çš„é­…åŠ›æ‰€åœ¨",
            "ä¸è¦å®³æ€•å¯»æ±‚å¸®åŠ©ï¼Œæˆ‘ä»¬éƒ½åœ¨ä¸€èµ·",
            "æ¯ä¸€æ¬¡è·Œå€’éƒ½æ˜¯ä¸ºäº†æ›´å¥½åœ°ç«™èµ·æ¥",
            "ä½ çš„ç¬‘å®¹æ˜¯ä¸–ç•Œä¸Šæœ€ç¾çš„é£æ™¯",
            "å†…å¿ƒçš„å¹³é™æ¯”å¤–åœ¨çš„æˆåŠŸæ›´é‡è¦",
            "ä½ æ˜¯è‡ªå·±ç”Ÿå‘½çš„ä¸»è§’ï¼Œç¼–å†™ç²¾å½©æ•…äº‹",
            "æ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œéƒ½ä¸è¦æ”¾å¼ƒå¸Œæœ›",
            "ä½ çš„å­˜åœ¨è®©è¿™ä¸ªä¸–ç•Œå˜å¾—æ›´ç¾å¥½",
            "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„æœºä¼šï¼Œæ–°çš„å¼€å§‹",
            "ä½ çš„å†…å¿ƒæœ‰æ— é™çš„åŠ›é‡å’Œå‹‡æ°”",
            "ç›¸ä¿¡è‡ªå·±çš„ç›´è§‰å’Œåˆ¤æ–­",
            "ä½ æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œæ²¡æœ‰äººèƒ½æ›¿ä»£",
            "ç»™è‡ªå·±ä¸€ç‚¹æ—¶é—´ï¼Œä¸€åˆ‡éƒ½ä¼šå¥½èµ·æ¥",
            "ä½ çš„åŠªåŠ›å’ŒåšæŒå€¼å¾—è¢«çœ‹è§",
            "ä¸è¦å¯¹è‡ªå·±å¤ªè‹›åˆ»ï¼Œä½ å·²ç»å¾ˆæ£’äº†",
            "ä½ çš„å–„è‰¯å’Œæ¸©æš–æ„ŸæŸ“ç€å‘¨å›´çš„äºº",
            "æ¯ä¸€å¤©éƒ½æ˜¯æˆé•¿å’Œå­¦ä¹ çš„æœºä¼š",
            "ä½ çš„å¿ƒæ˜¯æŸ”è½¯çš„ï¼Œä½†ä¹Ÿæ˜¯åšå¼ºçš„",
            "å³ä½¿æ„Ÿåˆ°è¿·èŒ«ï¼Œä¹Ÿè¦ç›¸ä¿¡å‰æ–¹æœ‰å…‰",
            "ä½ çš„æ•…äº‹å€¼å¾—è¢«å€¾å¬ï¼Œä½ çš„å£°éŸ³å€¼å¾—è¢«å¬è§",
            "ç»™è‡ªå·±ä¸€ç‚¹æ¸©æŸ”ï¼Œå°±åƒå¯¹å¾…æœ€å¥½çš„æœ‹å‹",
            "æ¯ä¸€ä¸ªå°å°çš„è¿›æ­¥éƒ½å€¼å¾—éª„å‚²",
            "ä½ çš„å†…å¿ƒæœ‰æ²»æ„ˆè‡ªå·±çš„åŠ›é‡",
            "ä¸å¿…æ€¥ç€èµ¶è·¯ï¼Œå¶å°”åœä¸‹æ¥çœ‹çœ‹é£æ™¯ä¹Ÿå¾ˆå¥½",
            "ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ä»½çè´µçš„ç¤¼ç‰©",
            "å³ä½¿æ„Ÿåˆ°è„†å¼±ï¼Œé‚£ä¹Ÿæ˜¯äººæ€§çš„ä¸€éƒ¨åˆ†",
            "ä½ çš„å‹‡æ°”æ¯”ææƒ§æ›´å¼ºå¤§",
            "ç»™è‡ªå·±ä¸€ä¸ªæ·±å‘¼å¸çš„ç©ºé—´ï¼Œä¸€åˆ‡éƒ½ä¼šæ¸…æ™°",
            "ä½ çš„æ„Ÿå—æ˜¯çœŸå®çš„ï¼Œå€¼å¾—è¢«å°Šé‡",
            "æ¯ä¸€ä¸ªæ—¥å‡ºéƒ½æ˜¯é‡æ–°å¼€å§‹çš„æœºä¼š",
            "ä½ çš„å†…åœ¨å…‰èŠ’ä¼šç…§äº®å‰è¡Œçš„è·¯",
            "å³ä½¿ç°åœ¨å¾ˆéš¾ï¼Œä¹Ÿè¦ç›¸ä¿¡æœªæ¥ä¼šæ›´å¥½",
            "ä½ çš„å–„è‰¯ä¼šä»¥å¦ä¸€ç§æ–¹å¼å›åˆ°ä½ èº«è¾¹",
            "ç»™è‡ªå·±ä¸€ç‚¹è€å¿ƒï¼Œæˆé•¿éœ€è¦æ—¶é—´",
            "ä½ çš„çœ¼æ³ªä¹Ÿæ˜¯åšå¼ºçš„ä¸€éƒ¨åˆ†",
            "å³ä½¿æ„Ÿåˆ°å­¤ç‹¬ï¼Œä¹Ÿè¦è®°å¾—æœ‰äººåœ¨ä¹ä½ ",
            "ä½ çš„æ¯ä¸€æ­¥éƒ½åœ¨å‘å‰ï¼Œæ— è®ºå¤§å°"
        ];

        // ğŸ”¥ ä¿®å¤2ï¼šå€’è®¡æ—¶å‡½æ•°åŠ é”ï¼Œåªå¯åŠ¨ä¸€æ¬¡
        function initCountdown() {
            if (countdownStarted) return; // å·²å¯åŠ¨åˆ™ç›´æ¥è¿”å›ï¼Œä¸é‡å¤æ‰§è¡Œ
            countdownStarted = true; // æ ‡è®°ä¸ºå·²å¯åŠ¨
            
            enterBtn.disabled = true;
            countdownEl.innerText = countdown; // å¼ºåˆ¶æ˜¾ç¤ºåˆå§‹å€¼5
            
            // å®šæ—¶å™¨ç²¾å‡†æ‰§è¡Œï¼Œæ¯ç§’å‡1
            const timer = setInterval(() => {
                countdown--;
                countdownEl.innerText = countdown;
                
                if (countdown <= 0) {
                    clearInterval(timer);
                    enterBtn.disabled = false;
                    enterBtn.classList.add('active');
                    enterBtn.innerText = "è¿›å…¥ç½‘ç«™";
                }
            }, 1000);
        }

        // ğŸ”¥ ä¿®å¤3ï¼šåªä¿ç•™ä¸€ä¸ªå¯åŠ¨å…¥å£ï¼Œå»æ‰é‡å¤è§¦å‘
        window.onload = function() {
            initCountdown(); // å”¯ä¸€å¯åŠ¨å…¥å£ï¼Œä¸é‡å¤è°ƒç”¨
            createStars();
            messageCounter.innerText = `1 / ${comfortingMessages.length}`;
        };

        // æ˜Ÿå…‰ç”Ÿæˆ
        function createStars() {
            const starCount = 60;
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = `${Math.random() * 3 + 1}px`;
                star.style.height = `${Math.random() * 3 + 1}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.animationDuration = `${Math.random() * 5 + 3}s`;
                giftPage.appendChild(star);
                messagesPage.appendChild(star.cloneNode(true));
            }
        }

        // èŠ±ç“£ç”Ÿæˆ
        function createPetals() {
            const petalCount = 30;
            const colors = ['#ff6b6b', '#ffafbd', '#ffc3a0', '#ffd1dc', '#ff8fa3', '#ffe6ea'];
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                const size = Math.random() * 15 + 8;
                const rotate = Math.random() * 360;
                const sway = Math.random() * 15 - 7;
                petal.style.setProperty('--rotate', `${rotate}deg`);
                petal.style.setProperty('--sway', `${sway}px`);
                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                petal.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                petal.style.left = `${Math.random() * 100}%`;
                petal.style.animationDuration = `${Math.random() * 6 + 4}s, ${Math.random() * 2 + 1}s`;
                document.body.appendChild(petal);
                setTimeout(() => petal.remove(), (Math.random() * 6 + 4) * 1000);
            }
        }

        // æ¶ˆæ¯è½®æ’­
        function startMsgLoop() {
            renderMsg();
            setInterval(() => {
                const activeMsg = document.querySelector('.message.active');
                if (activeMsg) {
                    activeMsg.style.opacity = 0;
                    setTimeout(() => activeMsg.remove(), 700);
                }
                currentMsgIndex = (currentMsgIndex + 1) % comfortingMessages.length;
                messageCounter.innerText = `${currentMsgIndex + 1} / ${comfortingMessages.length}`;
                setTimeout(renderMsg, 300);
            }, 2200);
        }

        function renderMsg() {
            const msg = document.createElement('div');
            msg.className = 'message';
            msg.innerHTML = `<i class="fas fa-heart"></i> ${comfortingMessages[currentMsgIndex]}`;
            messagesContainer.appendChild(msg);
            setTimeout(() => msg.classList.add('active'), 100);
        }

        // é¡µé¢åˆ‡æ¢ï¼šå…¬å‘Šé¡µ â†’ ç¤¼ç‰©é¡µ
        enterBtn.addEventListener('click', () => {
            noticePage.style.opacity = 0;
            setTimeout(() => {
                noticePage.style.display = 'none';
                giftPage.style.display = 'flex';
                versionGift.style.display = 'block';
            }, 400);
        });

        // é¡µé¢åˆ‡æ¢ï¼šç¤¼ç‰©é¡µ â†’ æ¶ˆæ¯é¡µ
        giftBox.addEventListener('click', () => {
            if (isOpened) return;
            isOpened = true;
            giftBox.classList.add('open', 'pulse');
            createPetals();
            setTimeout(() => {
                giftPage.style.opacity = 0;
                setTimeout(() => {
                    giftPage.style.display = 'none';
                    messagesPage.style.display = 'flex';
                    versionGift.style.display = 'none';
                    versionMsg.style.display = 'block';
                    startMsgLoop();
                }, 800);
            }, 600);
        });

        // é¡µé¢åˆ‡æ¢ï¼šæ¶ˆæ¯é¡µ â†’ ç¤¼ç‰©é¡µ
        backBtn.addEventListener('click', () => {
            messagesPage.style.opacity = 0;
            messagesContainer.innerHTML = '';
            setTimeout(() => {
                messagesPage.style.display = 'none';
                giftPage.style.display = 'flex';
                versionMsg.style.display = 'none';
                versionGift.style.display = 'block';
                isOpened = false;
                currentMsgIndex = 0;
                messageCounter.innerText = `1 / ${comfortingMessages.length}`;
                giftBox.classList.remove('open', 'pulse');
            }, 600);
        });
    </script>
</body>
</html>
