<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æš–å¿ƒç¤¼ç‰©â¤ï¸</title>
    <!-- Umami ç»Ÿè®¡è¿½è¸ªä»£ç ï¼ˆæ ¸å¿ƒï¼Œå¿…é¡»ä¿ç•™ï¼‰ -->
    <script defer src="https://cloud.umami.is/script.js" data-website-id="75d9443c-d127-474a-8083-a5f07aca5b8c"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #ffafbd, #ffc3a0); min-height: 100vh; overflow: hidden; color: #5a3e36; transition: background 3s ease; }
        
        /* å…¬å‘Šé¡µï¼ˆé»˜è®¤æ˜¾ç¤ºï¼Œæ— ç‰ˆæœ¬å·ï¼‰ */
        .notice-page { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 30px; text-align: center; background: rgba(255, 255, 255, 0.9); z-index: 100; position: relative; }
        .notice-content { max-width: 600px; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); }
        .notice-title { font-size: 2.2rem; margin-bottom: 20px; color: #e74c3c; }
        .notice-text { font-size: 1.2rem; line-height: 1.6; margin-bottom: 30px; color: #5a3e36; }
        .notice-text strong { color: #e74c3c; font-weight: 600; }
        .countdown { font-size: 1.5rem; margin-bottom: 30px; color: #e74c3c; font-weight: bold; }
        .enter-btn { background: #e74c3c; color: white; border: none; padding: 12px 30px; border-radius: 30px; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; opacity: 0.5; pointer-events: none; }
        .enter-btn.active { opacity: 1; pointer-events: auto; }
        .enter-btn:hover { background: #c0392b; transform: translateY(-2px); }
        
        /* ç¤¼ç‰©é¡µï¼ˆé»˜è®¤éšè—ï¼‰ */
        .gift-page { display: none; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; transition: opacity 0.8s ease, transform 0.8s ease; }
        .container { text-align: center; max-width: 800px; width: 100%; }
        h1 { font-size: 2.8rem; margin-bottom: 10px; color: #8b4513; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); }
        .subtitle { font-size: 1.2rem; margin-bottom: 40px; color: #7a5c4d; }
        .gift-container { position: relative; width: 200px; height: 200px; margin: 0 auto 50px; cursor: pointer; transition: transform 0.3s ease; animation: float 3s ease-in-out infinite; }
        .gift-container:hover { transform: scale(1.05); }
        .gift-box { width: 100%; height: 100%; background: linear-gradient(135deg, #e74c3c, #c0392b); border-radius: 10px; position: relative; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); transition: all 0.5s ease; }
        .gift-box::before { content: ''; position: absolute; width: 100%; height: 20px; background: rgba(255, 255, 255, 0.3); top: 50%; left: 0; transform: translateY(-50%); }
        .gift-box::after { content: ''; position: absolute; width: 20px; height: 100%; background: rgba(255, 255, 255, 0.3); left: 50%; top: 0; transform: translateX(-50%); }
        .gift-bow { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 40px; height: 40px; background: #ff6b6b; border-radius: 50%; z-index: 2; }
        .gift-bow::before, .gift-bow::after { content: ''; position: absolute; width: 60px; height: 20px; background: #ff6b6b; border-radius: 10px; top: 10px; }
        .gift-bow::before { left: -70px; transform: rotate(-45deg); }
        .gift-bow::after { right: -70px; transform: rotate(45deg); }
        .instructions { margin-top: 30px; font-style: italic; color: #7a5c4d; }
        .footer { margin-top: 50px; color: #7a5c4d; font-size: 0.9rem; }
        
        /* æ¶ˆæ¯é¡µï¼ˆé»˜è®¤éšè—ï¼‰ */
        .messages-page { display: none; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; opacity: 0; transition: opacity 0.8s ease; position: relative; overflow: hidden; }
        .messages-container { position: relative; width: 100%; height: 100vh; display: flex; align-items: center; justify-content: center; }
        .message { position: absolute; background: rgba(255, 255, 255, 0.9); padding: 25px 40px; border-radius: 30px; font-size: 1.5rem; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); opacity: 0; transition: opacity 0.6s ease, transform 0.6s ease; line-height: 1.5; max-width: 600px; text-align: center; z-index: 1; transform: translateY(20px); }
        .message.active { opacity: 1; transform: translateY(0); }
        .message i { color: #e74c3c; margin-right: 10px; font-size: 1.8rem; }
        .message-counter { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); background: rgba(255, 255, 255, 0.7); padding: 8px 20px; border-radius: 20px; font-size: 1rem; color: #7a5c4d; }
        .back-btn { position: absolute; top: 30px; right: 30px; background: rgba(255, 255, 255, 0.8); border: none; padding: 12px 25px; border-radius: 30px; font-size: 1rem; color: #8b4513; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); z-index: 10; }
        .back-btn:hover { background: white; transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        .pulse { animation: pulse 0.5s ease-in-out; }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .notice-title { font-size: 1.8rem; }
            .notice-text { font-size: 1rem; }
            h1 { font-size: 2.2rem; }
            .gift-container { width: 150px; height: 150px; }
            .message { font-size: 1.3rem; max-width: 500px; padding: 20px 30px; }
            .message i { font-size: 1.5rem; }
            .back-btn { top: 20px; right: 20px; padding: 10px 20px; }
        }
        @media (max-width: 480px) {
            .notice-title { font-size: 1.5rem; }
            .notice-text { font-size: 0.9rem; }
            h1 { font-size: 1.8rem; }
            .subtitle { font-size: 1rem; }
            .gift-container { width: 120px; height: 120px; }
            .message { font-size: 1.1rem; max-width: 350px; padding: 15px 25px; margin: 0 15px; }
            .message i { font-size: 1.3rem; }
            .back-btn { top: 15px; right: 15px; padding: 8px 16px; font-size: 0.9rem; }
        }
        
        /* ç‰ˆæœ¬å·æ ·å¼ï¼ˆé»˜è®¤éšè—ï¼Œä»…å¯¹åº”é¡µé¢æ˜¾ç¤ºï¼‰ */
        .version-info { 
            position: fixed; bottom: 20px; right: 20px; text-align: right; 
            color: #7a5c4d; z-index: 9; display: none; /* åˆå§‹å¼ºåˆ¶éšè— */
        }
        .visitor-count { font-size: 0.9rem; margin-bottom: 2px; opacity: 0.95; }
        .version { font-size: 0.95rem; margin-bottom: 2px; }
        .author { font-size: 0.75rem; opacity: 0.9; }
        /* ç§»åŠ¨ç«¯ç‰ˆæœ¬å·é€‚é… */
        @media (max-width: 480px) {
            .version-info { bottom: 60px; right: 15px; }
            .visitor-count { font-size: 0.8rem; }
            .version { font-size: 0.85rem; }
            .author { font-size: 0.65rem; }
        }
        /* è®¿é—®é‡åŠ è½½åŠ¨ç”»ï¼ˆä¼˜åŒ–ä½“éªŒï¼Œå¯é€‰ä¿ç•™ï¼‰ */
        .loading::after {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            border: 2px solid #7a5c4d;
            border-top-color: transparent;
            border-radius: 50%;
            margin-left: 6px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <!-- å…¬å‘Šé¡µï¼ˆæ— ç‰ˆæœ¬å·å…ƒç´ ï¼Œå½»åº•æœç»æ˜¾ç¤ºï¼‰ -->
    <div class="notice-page" id="noticePage">
        <div class="notice-content">
            <h2 class="notice-title">ä½¿ç”¨é¡»çŸ¥</h2>
            <div class="notice-text">
                <p>æ¬¢è¿ä½¿ç”¨æš–å¿ƒç¤¼ç‰©ç½‘ç«™ï¼åœ¨ä½¿ç”¨å‰è¯·é˜…è¯»ä»¥ä¸‹é‡è¦æç¤ºï¼š</p>
                <p><strong>1. è¯·å‹¿å°†æ­¤ç½‘ç«™ç”¨äºå•†ä¸šç”¨é€”æˆ–åœˆé’±è¡Œä¸º</strong></p>
                <p><strong>2. è¯·å‹¿å¯¹ç½‘ç«™è¿›è¡ŒäºŒæ¬¡ä¿®æ”¹å¹¶å£°ç§°æ˜¯åŸåˆ›ä½œå“</strong></p>
                <p><strong>3. bugåé¦ˆ/è¯­å½•æä¾›:15259955231@163.com   xiaojianxiang816@gmail.com</strong></p>
                <p>æœ¬ç½‘ç«™æ—¨åœ¨ä¼ æ’­æ¸©æš–ä¸æ­£èƒ½é‡ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤Ÿå°Šé‡åŸåˆ›ï¼Œå…±åŒç»´æŠ¤è‰¯å¥½çš„ç½‘ç»œç¯å¢ƒ</p>
            </div>
            <div class="countdown" id="countdown">5</div>
            <button class="enter-btn" id="enterBtn" disabled>é˜…è¯»5ç§’åè¿›å…¥</button>
        </div>
    </div>
    
    <!-- ç¤¼ç‰©é¡µï¼ˆå«ç‰ˆæœ¬å·ï¼Œé»˜è®¤éšè—ï¼‰ -->
    <div class="gift-page" id="giftPage">
        <div class="container">
            <h1>æš–å¿ƒç¤¼ç‰©ç›’</h1>
            <p class="subtitle">ç‚¹å‡»ç¤¼ç‰©ç›’ï¼Œæ”¶è·æ¸©æš–çš„å®‰æ…°è¯è¯­</p>
            <div class="gift-container" id="giftBox">
                <div class="gift-box">
                    <div class="gift-bow"></div>
                </div>
            </div>
            <p class="instructions">æ¯ä¸€å¥æ¸©æš–çš„è¯è¯­éƒ½æ˜¯ç»™ä½ çš„å°å°å®‰æ…°</p>
            <div class="footer">
                <p>åˆ¶ä½œè€…å¤§é­”ç‹ å¸Œæœ›è¿™äº›è¯è¯­èƒ½ç»™ä½ å¸¦æ¥ä¸€ä¸æ¸©æš–</p>
            </div>
        </div>
        <!-- ç¤¼ç‰©é¡µä¸“å±ç‰ˆæœ¬å·ï¼ˆåˆå§‹éšè—ï¼Œè¿›å…¥åæ˜¾ç¤ºï¼‰ -->
        <div class="version-info" id="versionGift">
            <div class="visitor-count" id="visitorCount">
                æ€»è®¿é—®é‡ï¼š<span class="loading">åŠ è½½ä¸­...</span> | ä»Šæ—¥ï¼š<span class="loading">åŠ è½½ä¸­...</span>
            </div>
            <div class="version">å½“å‰ç‰ˆæœ¬å·â…´1.1.1</div>
            <div class="author">å¤§é­”ç‹.by</div>
        </div>
    </div>
    
    <!-- æ¶ˆæ¯é¡µï¼ˆå«ç‰ˆæœ¬å·ï¼Œé»˜è®¤éšè—ï¼‰ -->
    <div class="messages-page" id="messagesPage">
        <div class="messages-container" id="messagesContainer"></div>
        <div class="message-counter" id="messageCounter">1 / 60</div>
        <button class="back-btn" id="backBtn">è¿”å›ç¤¼ç‰©ç›’</button>
        <!-- æ¶ˆæ¯é¡µä¸“å±ç‰ˆæœ¬å·ï¼ˆåˆå§‹éšè—ï¼Œè¿›å…¥åæ˜¾ç¤ºï¼‰ -->
        <div class="version-info" id="versionMsg">
            <div class="visitor-count" id="visitorCountMsg">
                æ€»è®¿é—®é‡ï¼š<span class="loading">åŠ è½½ä¸­...</span> | ä»Šæ—¥ï¼š<span class="loading">åŠ è½½ä¸­...</span>
            </div>
            <div class="version">å½“å‰ç‰ˆæœ¬å·â…´1.1.1</div>
            <div class="author">å¤§é­”ç‹.by</div>
        </div>
    </div>

    <script>
        // é¡µé¢æ ¸å¿ƒå…ƒç´ 
        const noticePage = document.getElementById('noticePage');
        const giftPage = document.getElementById('giftPage');
        const messagesPage = document.getElementById('messagesPage');
        const countdownElement = document.getElementById('countdown');
        const enterBtn = document.getElementById('enterBtn');
        const giftBox = document.getElementById('giftBox');
        const messagesContainer = document.getElementById('messagesContainer');
        const messageCounter = document.getElementById('messageCounter');
        const backBtn = document.getElementById('backBtn');
        // ç‰ˆæœ¬å·å…ƒç´ ï¼ˆåˆ†é¡µé¢å•ç‹¬æ§åˆ¶ï¼Œå½»åº•éš”ç¦»å…¬å‘Šé¡µï¼‰
        const versionGift = document.getElementById('versionGift');
        const versionMsg = document.getElementById('versionMsg');
        const visitorCount = document.getElementById('visitorCount');
        const visitorCountMsg = document.getElementById('visitorCountMsg');
        
        // å€’è®¡æ—¶æ ¸å¿ƒå˜é‡ï¼ˆä¸‰é‡åŠ å›ºï¼Œç¡®ä¿ä¸å¤±æ•ˆï¼‰
        let countdown = 5;
        let countdownInterval = null;
        
        // æ¶ˆæ¯ç›¸å…³å˜é‡
        let isOpened = false;
        let messageInterval = null;
        let currentMessageIndex = 0;
        
        // å®‰æ…°è¯è¯­æ•°ç»„ï¼ˆå®Œæ•´60æ¡ï¼‰
        const comfortingMessages = [
            "ä½ å¹¶ä¸å­¤å•ï¼Œæˆ‘åœ¨è¿™é‡Œé™ªç€ä½ ",
            "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼Œæ˜å¤©ä¼šæ›´å¥½",
            "ä½ çš„æ„Ÿå—å¾ˆé‡è¦ï¼Œæˆ‘å®Œå…¨ç†è§£",
            "é£é›¨è¿‡åï¼Œæ€»ä¼šæœ‰ç¾ä¸½çš„å½©è™¹",
            "ä½ æ¯”æƒ³è±¡ä¸­è¦åšå¼ºå¾—å¤š",
            "æ…¢æ…¢æ¥ï¼Œç»™è‡ªå·±ä¸€äº›æ—¶é—´å’Œç©ºé—´",
            "ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ç§ç¾å¥½",
            "ä¸å¿…å®Œç¾ï¼ŒåšçœŸå®çš„è‡ªå·±å°±è¶³å¤Ÿ",
            "ä¸€åˆ‡éƒ½ä¼šæ…¢æ…¢å¥½èµ·æ¥çš„ï¼Œæˆ‘ç›¸ä¿¡",
            "ä½ æ˜¯è¢«çˆ±ç€çš„ï¼Œæ°¸è¿œéƒ½æ˜¯",
            "æ¯ä¸€ä¸ªè‰°éš¾æ—¶åˆ»éƒ½ä¼šè¿‡å»",
            "ä½ çš„ä»·å€¼ä¸å› ä»»ä½•äº‹è€Œæ”¹å˜",
            "å…è®¸è‡ªå·±æ„Ÿå—æ‰€æœ‰æƒ…ç»ªï¼Œè¿™å¾ˆæ­£å¸¸",
            "å°å°çš„è¿›æ­¥ä¹Ÿæ˜¯å€¼å¾—åº†ç¥çš„",
            "ä½ å·²ç»åœ¨åšå¾—å¾ˆå¥½äº†",
            "é»‘æš—è¿‡åï¼Œå…‰æ˜å¿…å°†åˆ°æ¥",
            "å¯¹è‡ªå·±æ¸©æŸ”ä¸€ç‚¹ï¼Œä½ å€¼å¾—è¢«å–„å¾…",
            "ä½ çš„åšå¼ºå’ŒéŸ§æ€§ä»¤äººæ•¬ä½©",
            "æ¯ä¸€å¤©éƒ½æ˜¯é‡æ–°å¼€å§‹çš„æœºä¼š",
            "ä½ æ‹¥æœ‰æ”¹å˜ä¸€åˆ‡çš„å†…åœ¨åŠ›é‡",
            "å›°éš¾åªæ˜¯æš‚æ—¶çš„ï¼Œä½ ä¼šå…‹æœçš„",
            "ç»™è‡ªå·±ä¸€ä¸ªæ‹¥æŠ±ï¼Œä½ å·²ç»å¾ˆåŠªåŠ›äº†",
            "ç›¸ä¿¡æ—¶é—´çš„åŠ›é‡ï¼Œä¸€åˆ‡éƒ½ä¼šè¿‡å»",
            "ä½ çš„ç‹¬ç‰¹ä¹‹å¤„æ­£æ˜¯ä½ çš„é­…åŠ›æ‰€åœ¨",
            "ä¸è¦å®³æ€•å¯»æ±‚å¸®åŠ©ï¼Œæˆ‘ä»¬éƒ½åœ¨ä¸€èµ·",
            "æ¯ä¸€æ¬¡è·Œå€’éƒ½æ˜¯ä¸ºäº†æ›´å¥½åœ°ç«™èµ·æ¥",
            "ä½ çš„ç¬‘å®¹æ˜¯ä¸–ç•Œä¸Šæœ€ç¾çš„é£æ™¯",
            "å†…å¿ƒçš„å¹³é™æ¯”å¤–åœ¨çš„æˆåŠŸæ›´é‡è¦",
            "ä½ æ˜¯è‡ªå·±ç”Ÿå‘½çš„ä¸»è§’ï¼Œç¼–å†™ç²¾å½©æ•…äº‹",
            "æ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œéƒ½ä¸è¦æ”¾å¼ƒå¸Œæœ›",
            "ä½ çš„å­˜åœ¨è®©è¿™ä¸ªä¸–ç•Œå˜å¾—æ›´ç¾å¥½",
            "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„æœºä¼šï¼Œæ–°çš„å¼€å§‹",
            "ä½ çš„å†…å¿ƒæœ‰æ— é™çš„åŠ›é‡å’Œå‹‡æ°”",
            "ç›¸ä¿¡è‡ªå·±çš„ç›´è§‰å’Œåˆ¤æ–­",
            "ä½ æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œæ²¡æœ‰äººèƒ½æ›¿ä»£",
            "ç»™è‡ªå·±ä¸€ç‚¹æ—¶é—´ï¼Œä¸€åˆ‡éƒ½ä¼šå¥½èµ·æ¥",
            "ä½ çš„åŠªåŠ›å’ŒåšæŒå€¼å¾—è¢«çœ‹è§",
            "ä¸è¦å¯¹è‡ªå·±å¤ªè‹›åˆ»ï¼Œä½ å·²ç»å¾ˆæ£’äº†",
            "ä½ çš„å–„è‰¯å’Œæ¸©æš–æ„ŸæŸ“ç€å‘¨å›´çš„äºº",
            "æ¯ä¸€å¤©éƒ½æ˜¯æˆé•¿å’Œå­¦ä¹ çš„æœºä¼š",
            "ä½ çš„å¿ƒæ˜¯æŸ”è½¯çš„ï¼Œä½†ä¹Ÿæ˜¯åšå¼ºçš„",
            "å³ä½¿æ„Ÿåˆ°è¿·èŒ«ï¼Œä¹Ÿè¦ç›¸ä¿¡å‰æ–¹æœ‰å…‰",
            "ä½ çš„æ•…äº‹å€¼å¾—è¢«å€¾å¬ï¼Œä½ çš„å£°éŸ³å€¼å¾—è¢«å¬è§",
            "ç»™è‡ªå·±ä¸€ç‚¹æ¸©æŸ”ï¼Œå°±åƒå¯¹å¾…æœ€å¥½çš„æœ‹å‹",
            "æ¯ä¸€ä¸ªå°å°çš„è¿›æ­¥éƒ½å€¼å¾—éª„å‚²",
            "ä½ çš„å†…å¿ƒæœ‰æ²»æ„ˆè‡ªå·±çš„åŠ›é‡",
            "ä¸å¿…æ€¥ç€èµ¶è·¯ï¼Œå¶å°”åœä¸‹æ¥çœ‹çœ‹é£æ™¯ä¹Ÿå¾ˆå¥½",
            "ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ä»½çè´µçš„ç¤¼ç‰©",
            "å³ä½¿æ„Ÿåˆ°è„†å¼±ï¼Œé‚£ä¹Ÿæ˜¯äººæ€§çš„ä¸€éƒ¨åˆ†",
            "ä½ çš„å‹‡æ°”æ¯”ææƒ§æ›´å¼ºå¤§",
            "ç»™è‡ªå·±ä¸€ä¸ªæ·±å‘¼å¸çš„ç©ºé—´ï¼Œä¸€åˆ‡éƒ½ä¼šæ¸…æ™°",
            "ä½ çš„æ„Ÿå—æ˜¯çœŸå®çš„ï¼Œå€¼å¾—è¢«å°Šé‡",
            "æ¯ä¸€ä¸ªæ—¥å‡ºéƒ½æ˜¯é‡æ–°å¼€å§‹çš„æœºä¼š",
            "ä½ çš„å†…åœ¨å…‰èŠ’ä¼šç…§äº®å‰è¡Œçš„è·¯",
            "å³ä½¿ç°åœ¨å¾ˆéš¾ï¼Œä¹Ÿè¦ç›¸ä¿¡æœªæ¥ä¼šæ›´å¥½",
            "ä½ çš„å–„è‰¯ä¼šä»¥å¦ä¸€ç§æ–¹å¼å›åˆ°ä½ èº«è¾¹",
            "ç»™è‡ªå·±ä¸€ç‚¹è€å¿ƒï¼Œæˆé•¿éœ€è¦æ—¶é—´",
            "ä½ çš„çœ¼æ³ªä¹Ÿæ˜¯åšå¼ºçš„ä¸€éƒ¨åˆ†",
            "å³ä½¿æ„Ÿåˆ°å­¤ç‹¬ï¼Œä¹Ÿè¦è®°å¾—æœ‰äººåœ¨ä¹ä½ ",
            "ä½ çš„æ¯ä¸€æ­¥éƒ½åœ¨å‘å‰ï¼Œæ— è®ºå¤§å°"
        ];

        // ğŸŒŸ æ ¸å¿ƒä¿®æ”¹ï¼šç”¨Umamiå…¨å±€å¯¹è±¡æ‹¿è®¿é—®é‡ï¼ˆæ— è·¨åŸŸï¼Œè‡ªåŠ¨åŠ è½½ï¼‰
        function getUmamiVisitorCount() {
            // å…œåº•ï¼š3ç§’æ²¡åŠ è½½å®Œæ˜¾ç¤º--ï¼Œé¿å…ä¸€ç›´åŠ è½½ä¸­
            const loadTimer = setTimeout(() => {
                visitorCount.innerHTML = `æ€»è®¿é—®é‡ï¼š-- | ä»Šæ—¥ï¼š--`;
                visitorCountMsg.innerHTML = `æ€»è®¿é—®é‡ï¼š-- | ä»Šæ—¥ï¼š--`;
            }, 3000);

            // æ–¹æ³•1ï¼šç›‘å¬Umamiè„šæœ¬åŠ è½½å®Œæˆï¼ˆä¼˜å…ˆè§¦å‘ï¼‰
            window.addEventListener('umami.loaded', () => {
                clearTimeout(loadTimer); // å–æ¶ˆå…œåº•
                updateVisitorNum(); // æ›´æ–°è®¿é—®é‡
            });

            // æ–¹æ³•2ï¼šä¸»åŠ¨æ£€æµ‹Umamiæ˜¯å¦å·²åŠ è½½ï¼ˆé˜²æ­¢ç›‘å¬å¤±è´¥ï¼ŒåŒé‡ä¿éšœï¼‰
            if (window.umami && window.umami.stats) {
                clearTimeout(loadTimer);
                updateVisitorNum();
            }
        }

        // å•ç‹¬æŠ½ç¦»ï¼šæ›´æ–°è®¿é—®é‡æ˜¾ç¤ºï¼ˆå¤ç”¨é€»è¾‘ï¼Œæ›´æ¸…æ™°ï¼‰
        function updateVisitorNum() {
            const stats = window.umami.stats; // ä»Umamiå…¨å±€å¯¹è±¡æ‹¿æ•°æ®
            const totalVisits = stats.total || 0; // æ€»è®¿é—®é‡
            const todayVisits = stats.today || 0; // ä»Šæ—¥è®¿é—®é‡
            // æ›¿æ¢å†…å®¹ï¼Œå»æ‰åŠ è½½åŠ¨ç”»
            visitorCount.innerHTML = `æ€»è®¿é—®é‡ï¼š${totalVisits} | ä»Šæ—¥ï¼š${todayVisits}`;
            visitorCountMsg.innerHTML = `æ€»è®¿é—®é‡ï¼š${totalVisits} | ä»Šæ—¥ï¼š${todayVisits}`;
        }

        // å€’è®¡æ—¶åŠŸèƒ½ï¼ˆå½»åº•ä¿®å¤ï¼Œ100%ç”Ÿæ•ˆï¼‰
        function startCountdown() {
            // å¼ºåˆ¶é‡ç½®çŠ¶æ€ï¼Œé¿å…ä»»ä½•å†²çª
            clearInterval(countdownInterval);
            countdown = 5;
            countdownElement.innerText = countdown;
            enterBtn.disabled = true;
            enterBtn.classList.remove('active');
            enterBtn.innerText = 'é˜…è¯»5ç§’åè¿›å…¥';
            
            // å¯åŠ¨å€’è®¡æ—¶ï¼Œæ¯ç§’å‡1
            countdownInterval = setInterval(() => {
                countdown--;
                countdownElement.innerText = countdown;
                
                // å€’è®¡æ—¶ç»“æŸï¼Œæ¿€æ´»æŒ‰é’®
                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                    enterBtn.disabled = false;
                    enterBtn.classList.add('active');
                    enterBtn.innerText = 'è¿›å…¥ç½‘ç«™';
                }
            }, 1000);
        }

        // æ¶ˆæ¯è½®æ’­åŠŸèƒ½
        function startMessageRotation() {
            createMessage();
            messageInterval = setInterval(() => {
                const activeMsg = document.querySelector('.message.active');
                if (activeMsg) {
                    activeMsg.style.opacity = 0;
                    activeMsg.style.transform = 'translateY(-20px)';
                    setTimeout(() => activeMsg.remove(), 600);
                }
                
                currentMessageIndex = (currentMessageIndex + 1) % comfortingMessages.length;
                messageCounter.innerText = `${currentMessageIndex + 1} / ${comfortingMessages.length}`;
                setTimeout(createMessage, 300);
            }, 2000);
        }

        // åˆ›å»ºå•æ¡æ¶ˆæ¯
        function createMessage() {
            const msg = document.createElement('div');
            msg.className = 'message';
            msg.innerHTML = `<i class="fas fa-heart"></i> ${comfortingMessages[currentMessageIndex]}`;
            messagesContainer.appendChild(msg);
            setTimeout(() => msg.classList.add('active'), 100);
        }

        // é¡µé¢åˆ‡æ¢äº‹ä»¶ï¼šå…¬å‘Šé¡µ â†’ ç¤¼ç‰©é¡µ
        enterBtn.addEventListener('click', () => {
            noticePage.style.display = 'none';
            giftPage.style.display = 'flex';
            versionGift.style.display = 'block'; // åªåœ¨ç¤¼ç‰©é¡µæ˜¾ç¤ºç‰ˆæœ¬å·
            getUmamiVisitorCount(); // è§¦å‘è®¿é—®é‡åŠ è½½
        });

        // é¡µé¢åˆ‡æ¢äº‹ä»¶ï¼šç¤¼ç‰©é¡µ â†’ æ¶ˆæ¯é¡µ
        giftBox.addEventListener('click', () => {
            if (isOpened) return;
            isOpened = true;
            giftBox.classList.add('pulse');
            
            setTimeout(() => {
                giftPage.style.opacity = 0;
                setTimeout(() => {
                    giftPage.style.display = 'none';
                    messagesPage.style.display = 'flex';
                    versionGift.style.display = 'none'; // éšè—ç¤¼ç‰©é¡µç‰ˆæœ¬å·
                    versionMsg.style.display = 'block'; // æ˜¾ç¤ºæ¶ˆæ¯é¡µç‰ˆæœ¬å·
                    startMessageRotation();
                    setTimeout(() => messagesPage.style.opacity = 1, 100);
                }, 800);
            }, 500);
        });

        // é¡µé¢åˆ‡æ¢äº‹ä»¶ï¼šæ¶ˆæ¯é¡µ â†’ ç¤¼ç‰©é¡µ
        backBtn.addEventListener('click', () => {
            clearInterval(messageInterval);
            messagesPage.style.opacity = 0;
            messagesContainer.innerHTML = '';
            
            setTimeout(() => {
                messagesPage.style.display = 'none';
                giftPage.style.display = 'flex';
                versionMsg.style.display = 'none'; // éšè—æ¶ˆæ¯é¡µç‰ˆæœ¬å·
                versionGift.style.display = 'block'; // æ˜¾ç¤ºç¤¼ç‰©é¡µç‰ˆæœ¬å·
                setTimeout(() => {
                    giftPage.style.opacity = 1;
                    isOpened = false;
                    currentMessageIndex = 0;
                    messageCounter.innerText = `1 / ${comfortingMessages.length}`;
                }, 100);
            }, 800);
        });

        // é¡µé¢åŠ è½½å®Œæˆåï¼Œä¼˜å…ˆå¯åŠ¨å€’è®¡æ—¶ï¼ˆç¡®ä¿ç¬¬ä¸€æ—¶é—´æ‰§è¡Œï¼‰
        window.onload = () => {
            startCountdown();
            messageCounter.innerText = `1 / ${comfortingMessages.length}`;
            // ä¸ç”¨æå‰è°ƒç”¨è®¿é—®é‡åŠ è½½ï¼Œè¿›å…¥ç¤¼ç‰©é¡µå†è§¦å‘ï¼Œæ›´é«˜æ•ˆ
        };
    </script>
</body>
</html>